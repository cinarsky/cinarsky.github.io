(function(t){function e(e){for(var r,i,s=e[0],c=e[1],u=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0085":function(t,e,n){},4876:function(t,e,n){},"50aa":function(t,e,n){"use strict";var r=n("0085"),a=n.n(r);a.a},"522d2":function(t,e,n){"use strict";var r=n("7c6a"),a=n.n(r);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=n("5132"),o=n.n(a),i=n("76a0"),s=n.n(i),c=(n("aa35"),n("5c96")),u=n.n(c),l=(n("0fae"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),d=[],p={name:"appvue"},m=p,h=(n("5c0b"),n("2877")),f=Object(h["a"])(m,l,d,!1,null,null,null),v=f.exports,g=n("8c4f"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"MainPage"},[n("el-header",[n("h3",[t._v("欢迎进入，"+t._s(t.userInfo.title))])]),n("el-main",{staticStyle:{margin:"20px 50px"}},[n("h3",[t._v("功能模块介绍：")]),n("el-tabs",{staticStyle:{height:"200px","font-size":"20px"},attrs:{"tab-position":t.tabPosition}},[n("el-tab-pane",{attrs:{label:"我的工作台"}},[n("p",[t._v("该部分用于添加菜品、桌面，")]),n("p",[t._v("添加完成后可在菜品/桌面管理里面查看详情和管理。")])]),n("el-tab-pane",{attrs:{label:"订单管理"}},[n("p",[t._v("该部分用于管理订单，")]),n("p",[t._v("修改订单状态，可在单一订单中查看订单详情。")])]),n("el-tab-pane",{attrs:{label:"菜品管理"}},[n("p",[t._v("该部分用于管理菜品，")]),n("p",[t._v("上架/下架菜品，")]),n("p",[t._v("修改菜品图片，")]),n("p",[t._v("修改菜品名称/类别/分类或者删除菜品")])]),n("el-tab-pane",{attrs:{label:"桌面管理"}},[n("p",[t._v("该部分用于管理桌面，")]),n("p",[t._v("修改桌面信息，")]),n("p",[t._v("修改名称/纳客量")])]),n("el-tab-pane",{attrs:{label:"我要登出"}},[n("p",[t._v("退出到登录页面")]),n("el-button",{staticStyle:{"margin-top":"90px","margin-left":"25px"},on:{click:t.logout}},[t._v("登出")])],1)],1)],1)],1)},x=[],_=(n("96cf"),n("89ba")),k=n("bc3a"),y=n.n(k),w=y.a.create({baseURL:"http://47.96.148.104/api",withCredentials:!0}),S=w,$={name:"MainPage",mounted:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.get("/userinfo");case 2:e=t.sent.data,this.userInfo=e;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{userInfo:{},tabPosition:"left"}},methods:{logout:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.get("/logout");case 2:e=t.sent,n=e.data,0===n.code?this.$router.push("/login"):this.$message("登出失败");case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},O=$,C=Object(h["a"])(O,b,x,!1,null,"36fadb2f",null),j=C.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"Login",staticStyle:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",margin:"auto"}},[n("el-header",[n("h2",{staticStyle:{width:"195px",margin:"auto"}},[t._v("登录餐厅管理系统")])]),n("el-main",[n("el-form",{staticStyle:{width:"400px"},attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("el-form-item",{attrs:{label:"验证码"}},[n("el-input",{attrs:{type:"text"},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}})],1),n("el-form-item",[n("img",{attrs:{src:t.imgPath,alt:"captcha"},on:{click:function(e){return t.refresh(e.target)}}}),t._v("不区分大小写 ")]),n("div",{staticStyle:{margin:"40px"}},[n("el-button",{attrs:{type:"primary",plain:!0},on:{click:t.login}},[t._v("登录")]),n("el-button",{on:{click:t.toRegister}},[t._v("注册")]),n("el-button",{on:{click:t.toForget}},[t._v("忘记密码")])],1)],1)],1),n("el-footer",{staticStyle:{width:"200px",margin:"auto"}},[t._v(" ©简单的点餐管理系统 ")])],1)},I=[],P=(n("fb6a"),n("0d03"),n("b0c0"),n("d3b7"),n("25f0"),{name:"Login",data:function(){return{name:"",password:"",feedback:"",captcha:"",title:""}},computed:{num:function(){return Math.random().toString().slice(2,8)},imgPath:function(){return"http://47.96.148.104/api/captcha?captchaid=".concat(this.num)}},methods:{login:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.post("/login",{name:this.name,password:this.password,captcha:this.captcha});case 2:if(e=t.sent,n=e.data,0!==n.code){t.next=7;break}return this.$router.push("/manage/".concat(n.user.id)),t.abrupt("return");case 7:-1===n.code&&(this.feedback="验证码错误"),-2===n.code&&(this.feedback="用户名或密码错误"),this.$message(this.feedback);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),toForget:function(){this.$router.push("/forget")},toRegister:function(){this.$router.push("/register")},refresh:function(t){var e=t,n=Math.random().toString().slice(2,8),r="http://47.96.148.104/api/captcha?captchaid=".concat(n);e.src=r}}}),N=P,L=(n("b3b5"),Object(h["a"])(N,R,I,!1,null,"4c8a1d86",null)),D=L.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"Register",staticStyle:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",margin:"auto"}},[n("el-header",[n("h2",{staticStyle:{width:"195px",margin:"auto"}},[t._v("登录餐厅管理系统")])]),n("el-main",[n("el-form",{staticStyle:{width:"400px"},attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{attrs:{type:"text"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("el-form-item",{attrs:{label:"邮箱"}},[n("el-input",{attrs:{type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{type:"text"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("el-form-item",{attrs:{label:"餐厅名"}},[n("el-input",{attrs:{type:"text"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.register}},[t._v("马上注册")])],1)],1)],1),n("el-footer",{staticStyle:{width:"200px",margin:"auto"}},[t._v(" ©简单的点餐管理系统 ")])],1)},F=[],V={name:"Register",data:function(){return{name:"",password:"",email:"",title:""}},methods:{register:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==this.name&&""!==this.password&&""!==this.email&&""!==this.title){t.next=3;break}return this.$message("该页面表单内容均为必填项，请务必填写"),t.abrupt("return");case 3:return t.next=5,S.post("http://47.96.148.104/api/register",{name:this.name,password:this.password,email:this.email,title:this.title});case 5:e=t.sent,n=e.data,0===n.code&&(this.$message("注册成功"),setTimeout((function(){r.$router.push("/login")}),3e3)),-1===n.code&&this.$message("用户名已经被占用");case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},M=V,T=(n("86e5"),Object(h["a"])(M,E,F,!1,null,"6fc91fb7",null)),q=T.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"Forget",staticStyle:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",margin:"auto"}},[n("el-header",[n("h2",{staticStyle:{width:"195px",margin:"auto"}},[t._v("登录餐厅管理系统")])]),n("el-main",[n("el-form",{staticStyle:{width:"800px",margin:"50px auto","vertical-align":"baseline"},attrs:{"label-width":"150px"}},[n("el-form-item",{attrs:{label:"请输入验证邮箱："}},[n("el-input",{staticStyle:{width:"455px"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("el-button",{staticStyle:{margin:"20px"},attrs:{type:"primary"},on:{click:t.forget}},[t._v("发送验证邮件")])],1)],1),n("p",{directives:[{name:"show",rawName:"v-show",value:t.fakeEmail,expression:"fakeEmail"}],staticStyle:{width:"510px",margin:"auto"}},[t._v("假装这是您已经看到邮件了，这是修改密码的网址： "),n("a",{attrs:{href:t.changePath},on:{click:t.changestatus}},[t._v("修改密码请点击我")])])],1),n("el-footer",{staticStyle:{width:"200px",margin:"50px auto"}},[t._v(" ©简单的点餐管理系统 ")])],1)},J=[],z={name:"Forget",data:function(){return{email:"",feedback:"",fakeEmail:!1,changePath:""}},methods:{forget:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.post("/forget",{email:this.email});case 2:e=t.sent,n=e.data,-1===n.code?this.feedback="没有此用户邮箱，请确认后重新填写":(this.feedback="邮件将保持20分钟时效，请尽快查看",this.fakeEmail=!0,this.changePath=n.path),this.$message(this.feedback);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changestatus:function(){this.fakeEmail=!1}}},A=z,H=Object(h["a"])(A,B,J,!1,null,null,null),Q=H.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"change-password",staticStyle:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",margin:"auto"}},[n("el-header",[n("h2",{staticStyle:{width:"195px",margin:"auto"}},[t._v("登录餐厅管理系统")])]),n("el-main",[n("el-form",{staticStyle:{width:"760px",margin:"auto"},attrs:{"label-width":"160px"}},[n("el-form-item",{attrs:{label:"请在此重置密码"}},[n("el-input",{model:{value:t.changePassword,callback:function(e){t.changePassword=e},expression:"changePassword"}}),n("el-button",{staticStyle:{margin:"20px 200px",width:"100px"},attrs:{type:"primary"},on:{click:t.change}},[t._v(" 修改密码 ")])],1)],1)],1),n("el-footer",{staticStyle:{width:"200px",margin:"50px auto"}},[t._v(" ©简单的点餐管理系统 ")])],1)},W=[],X={name:"changePassword",data:function(){return{changePassword:"",feedback:""}},methods:{change:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.post("change-password/".concat(this.$route.params.token),{password:this.changePassword});case 2:e=t.sent,n=e.data,0===n.code?(this.feedback="密码修改成功，3S后返回",setTimeout((function(){r.$router.push("/login")}),3e3)):(this.feedback="链接已经失效，请重新发送邮件",setTimeout((function(){r.$router.push("/forget")}),3e3));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},G=X,Z=Object(h["a"])(G,U,W,!1,null,"b4d123e4",null),K=Z.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"LandingPage"},[n("mt-header",{attrs:{fixed:"",title:"无人点餐系统"}},[n("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[n("mt-button",{attrs:{icon:"back"}},[t._v("返回")])],1)],1),n("mt-cell",{staticStyle:{"margin-top":"40px"},attrs:{title:t.restaurantName,value:t.deskName}}),n("h2",[t._v("请选择人数")]),n("ul",t._l(6,(function(e){return n("li",{key:e,class:{active:t.selNum==e},on:{click:function(n){return t.changeIdx(e)}}},[n("el-button",{attrs:{plain:"",type:"primary"}},[t._v(t._s(e))])],1)})),0),n("div",{staticClass:"page-actionsheet-wrapper"},[n("button",{staticClass:"mint-button mint-button--primary mint-button--large",on:{click:t.actionSheet}},[t._v(" 开始点餐 ")])]),n("mt-actionsheet",{attrs:{actions:t.actions},model:{value:t.sheetVisible,callback:function(e){t.sheetVisible=e},expression:"sheetVisible"}})],1)},tt=[],et=(n("99af"),{name:"LandingPage",mounted:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.get("deskinfo?rid=".concat(this.$route.params.rid,"&did=").concat(this.$route.params.did));case 2:return e=t.sent,n=e.data,this.title=n.title,this.name=n.name,t.next=8,S.get("/landing/r/".concat(this.$route.params.rid,"/d/").concat(this.$route.params.did,"/custom"));case 8:r=t.sent.data,console.log(r),1===r.code&&this.$router.push("/r/".concat(this.$route.params.rid,"/d/").concat(this.$route.params.did,"?customCount=").concat(r.msg));case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{selNum:0,title:"",name:"",actions:[{name:"确定",method:this.startOrder}],cancelText:"取消",sheetVisible:!1}},methods:{actionSheet:function(){0===this.selNum?this.$messagebox.alert("请先选择就餐人数哦","温馨提示"):this.sheetVisible=!0},changeIdx:function(t){this.selNum=t},startOrder:function(){var t=this.$route.params.rid,e=this.$route.params.did;this.$router.push("/r/".concat(t,"/d/").concat(e,"?customCount=").concat(this.selNum))}},computed:{restaurantName:function(){return"欢迎光临，".concat(this.title)},deskName:function(){return"".concat(this.name,"桌")}}}),nt=et,rt=(n("b835"),Object(h["a"])(nt,Y,tt,!1,null,null,null)),at=rt.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"foodCart",staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[n("mt-header",{attrs:{fixed:"",title:"无人点餐系统"}}),n("mt-cell",{staticStyle:{"margin-top":"40px"},attrs:{title:t.restaurantName,value:t.deskName}}),n("ul",{staticStyle:{margin:"55px",padding:"0"}},t._l(t.foodList,(function(e,r){return n("li",{key:r,style:t.liStyle,attrs:{name:e.name}},[n("h3",[t._v(t._s(e.name))]),n("div",{style:t.cardStyle},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"http://47.96.148.104/upload/"+e.img,expression:"'http://47.96.148.104/upload/' + foodInfo.img"}],attrs:{alt:e.name}}),n("br"),n("p",[t._v("价格："+t._s(e.price)+"元")]),n("p",[t._v(t._s(e.desc))]),n("i",{staticClass:"el-icon-remove-outline",on:{click:function(n){return t.dec(e)},funcDec:t.dec}}),n("span",[t._v(t._s(e.count))]),n("i",{staticClass:"el-icon-circle-plus",on:{click:function(n){return t.inc(e)},funcInc:t.inc}})])])})),0),n("cartStatus",{attrs:{foodList:t.foodList,deskName:t.deskName}})],1)},it=[],st=(n("4160"),n("c975"),n("d81d"),n("159b"),n("bf2d")),ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cartStatus"},[n("mt-popup",{attrs:{id:"orderCart",position:"bottom"},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[n("div",[n("div",{staticStyle:{height:"30px"}},[n("h3",{directives:[{name:"show",rawName:"v-show",value:t.orderSome,expression:"orderSome"}],staticStyle:{margin:"10px 5px",float:"left"}},[t._v("已点菜品")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.orderSome,expression:"!orderSome"}],staticStyle:{float:"left"},attrs:{type:"primary",icon:"el-icon-dish"},on:{click:t.popupshrink}},[t._v(" 去点餐 ")]),n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"el-icon-delete-solid",disabled:!t.orderSome},on:{click:t.clearOrderCart}},[t._v(" 清空菜单 ")])],1),n("ul",{staticStyle:{padding:"0"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.orderSome,expression:"!orderSome"}],staticStyle:{height:"60px"},attrs:{id:"cartEmpty"}},[n("p",{staticStyle:{width:"181px",margin:"auto"}},[n("i",{staticClass:"el-icon-dish-1"}),t._v(" 您还没有点任何菜品哦 ")])]),t._l(t.orderFoods,(function(e,r){return n("li",{key:r,staticStyle:{padding:"10px 45px"},attrs:{id:"cartList"}},[n("span",[t._v(t._s(e.name))]),n("span",{attrs:{id:"changeOrder"}},[n("i",{staticClass:"el-icon-remove-outline",on:{click:function(n){return t.dec(e)}}}),t._v(" "+t._s(e.count)+" "),n("i",{staticClass:"el-icon-circle-plus",on:{click:function(n){return t.inc(e)}}})])])}))],2),n("div",{staticStyle:{height:"30px"}},[n("h3",{staticStyle:{float:"left",margin:"10px 5px"}},[t._v("总价："+t._s(t.totalPrice)+"元")]),n("el-button",{staticStyle:{float:"right"},attrs:{type:"success",plain:"",icon:"el-icon-knife-fork",disabled:!t.orderSome},on:{click:t.order}},[t._v(" 下单 ")])],1)])]),n("el-button",{staticStyle:{float:"right","margin-top":"-40px"},attrs:{type:"primary",icon:"el-icon-dish",plain:""},on:{click:t.shoppingCart}},[t._v(" 已选菜单 ")]),n("p",{staticStyle:{float:"left",padding:"5px"}},[t._v(" 总价："+t._s(t.totalPrice)+"元 ")]),n("el-button",{staticStyle:{position:"absolute",right:"3px",bottom:"5px"},attrs:{type:"success",icon:"el-icon-knife-fork"},on:{click:t.order}},[t._v(" 下单 ")])],1)},ut=[],lt=(n("4de4"),n("13d5"),{name:"cartStatus",props:["foodList","deskName"],data:function(){return{popupVisible:!1,foods:[]}},computed:{totalPrice:function(){var t=this.foodList.reduce((function(t,e){return e.count*e.price+t}),0);return t},orderSome:function(){return this.orderFoods.length>0},orderFoods:function(){return this.foodList.filter((function(t){return t.count>0}))}},methods:{shoppingCart:function(){this.popupVisible=!this.popupVisible},order:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.foods=this.orderFoods.map((function(t){var e={};return e.id=t.id,e.amount=t.count,e})),t.next=3,S.post("/restaurant/".concat(this.$route.params.rid,"/desk/").concat(this.$route.params.did,"/order"),{deskName:this.deskName,totalPrice:this.totalPrice,customCount:this.$route.query.customCount,foods:this.foods});case 3:return e=t.sent,n=e.data,0===n.code&&this.$router.push({path:"/r/".concat(this.$route.params.rid,"/d/").concat(this.$route.params.did,"/order-success")}),t.next=8,S.delete("/restaurant/".concat(this.$route.params.rid,"/desk/").concat(this.$route.params.did,"/custom"));case 8:r={rid:this.$route.params.rid,did:this.$route.params.did},this.$socket.emit("order",r);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),inc:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,n.count=e.count+1,r={fid:n.id,count:n.count},t.next=5,S.put("/restaurant/".concat(this.$route.params.rid,"/desk/").concat(this.$route.params.did,"/custom"),r);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),dec:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var n,r,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.count>0)){t.next=8;break}return n=e,n.count=e.count-1,r={fid:n.id,count:n.count},t.next=6,S.put("/restaurant/".concat(this.$route.params.rid,"/desk/").concat(this.$route.params.did,"/custom"),r);case 6:t.next=10;break;case 8:this.$indicator.open({text:"不能再减少了哟",spinnerType:"double-bounce"}),setTimeout((function(){return a.$indicator.close()}),500);case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),popupshrink:function(){this.popupVisible=!1},clearOrderCart:function(){this.foodList.forEach((function(t){var e=t;e.count=0}))}},sockets:{"submit order":function(t){this.$router.push({path:"/r/".concat(this.$route.params.rid,"/d/").concat(this.$route.params.did,"/order-success"),query:{orderInfo:t}})}}}),dt=lt,pt=(n("dce6"),Object(h["a"])(dt,ct,ut,!1,null,"39537b32",null)),mt=pt.exports,ht={mounted:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={rid:this.$route.params.rid,did:this.$route.params.did,customCount:this.$route.query.customCount},this.$socket.emit("customer room",e),t.next=4,S.get("/restaurant/".concat(this.$route.params.rid,"/food"));case 4:return n=t.sent.data,console.log(n),t.next=8,S.get("/deskinfo?rid=".concat(this.$route.params.rid,"&did=").concat(this.$route.params.did));case 8:return r=t.sent.data,this.name=r.name,this.title=r.title,r&&n&&(this.loading=!1),t.next=14,S.get("/restaurant/".concat(this.$route.params.rid,"/desk/").concat(this.$route.params.did,"/temporder"));case 14:a=t.sent.data,console.log(a),"object"===Object(st["a"])(a)?n.map((function(t){var e=a.map((function(t){return t.fid})),n=t,r=e.indexOf(n.id);return n.count=r>=0?a[r].count:0,n})):n.map((function(t){var e=t;return e.count=0,e})),console.log(n),this.foodList=n;case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),name:"FoodCart",data:function(){return{foodList:[],imgStyle:{float:"left",width:"100px",height:"100px",border:"1px solid"},cardStyle:{border:"2px solid",padding:"5px",overflow:"hidden"},liStyle:{listStyleType:"none"},name:"",title:"",loading:!0,orderFoods:[]}},methods:{inc:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,n.count=e.count+1,r={fid:n.id,count:n.count},t.next=5,S.put("/restaurant/".concat(this.$route.params.rid,"/desk/").concat(this.$route.params.did,"/custom"),r);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),dec:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var n,r,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.count>0)){t.next=8;break}return n=e,n.count=e.count-1,r={fid:n.id,count:n.count},t.next=6,S.put("/restaurant/".concat(this.$route.params.rid,"/desk/").concat(this.$route.params.did,"/custom"),r);case 6:t.next=10;break;case 8:this.$indicator.open({text:"不能再减少了哟",spinnerType:"double-bounce"}),setTimeout((function(){return a.$indicator.close()}),500);case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),clearOrderFoods:function(){this.orderFoods=[]}},computed:{restaurantName:function(){return"欢迎光临，".concat(this.title)},deskName:function(){return"".concat(this.name,"桌")}},components:{cartStatus:mt},sockets:{"change order":function(t){this.foodList.forEach((function(e){if(e.id===t.fid){console.log("change");var n=e;n.count=t.count}}))}}},ft=ht,vt=(n("872c"),Object(h["a"])(ft,ot,it,!1,null,"08e02094",null)),gt=vt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"RestaurantManage"},[n("el-main",[n("el-menu",{staticClass:"manageMenu",attrs:{"default-active":t.activeIndex,router:t.router,mode:"horizontal"},on:{select:t.handleSelect}},[n("el-menu-item",{attrs:{index:t.mainPath}},[t._v("餐厅管理")]),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[t._v("我的工作台")]),n("el-menu-item",{attrs:{index:t.addFoodPath}},[t._v("添加菜品")]),n("el-menu-item",{attrs:{index:t.addDeskPath}},[t._v("添加桌面")])],2),n("el-menu-item",{attrs:{index:t.ordersPath}},[t._v(" 订单管理 ")]),n("el-menu-item",{attrs:{index:t.foodPath}},[t._v(" 菜品管理 ")]),n("el-menu-item",{attrs:{index:t.deskPath}},[t._v(" 桌面管理 ")])],1),n("router-view")],1),n("el-footer",{attrs:{id:"footer"}},[n("div",{attrs:{id:"footer-cart"}},[t._v(" ©简单的点餐管理系统 ")])])],1)},xt=[],_t={name:"manage",mounted:function(){this.$router.push(this.mainPath)},data:function(){return{router:!0,userInfo:"",mainPath:"/manage/".concat(this.$route.params.rid,"/mainpage"),ordersPath:"/manage/".concat(this.$route.params.rid,"/orders"),foodPath:"/manage/".concat(this.$route.params.rid,"/food"),deskPath:"/manage/".concat(this.$route.params.rid,"/desks"),addFoodPath:"/manage/".concat(this.$route.params.rid,"/add-food"),addDeskPath:"/manage/".concat(this.$route.params.rid,"/add-desk"),activeIndex:"/manage/".concat(this.$route.params.rid,"/mainpage")}},methods:{logOut:function(){this.$router.push("/login")},handleSelect:function(t){console.log(t)}}},kt=_t,yt=(n("50aa"),Object(h["a"])(kt,bt,xt,!1,null,null,null)),wt=yt.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"OrderManage"},[n("el-main",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("h3",[t._v("所有订单")])]),t._l(t.orderList,(function(e,r){return n("div",{key:r,staticStyle:{listStyle:"none"}},[n("div",{style:t.orderStyle},[n("el-form",[n("el-form-item",[n("h3",[t._v("总价 :"+t._s(e.totalPrice))])]),n("el-form-item",[n("h3",[t._v("人数 :"+t._s(e.customCount))])]),n("el-form-item",[n("h3",[t._v("状态 :"+t._s(e.status))])])],1),n("el-button",{on:{click:function(n){return t.print(e)}}},[t._v("打印")]),n("el-button",{on:{click:function(n){return t.confirm(e)}}},[t._v("确认")]),n("el-button",{on:{click:function(n){return t.complete(e)}}},[t._v("完成")]),n("el-button",{on:{click:function(n){return t.deleteOrder(e)}}},[t._v("删除")]),n("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.orderDetails(e)}}},[t._v("订单详情")])],1)])}))],2)],1)],1)},$t=[],Ot={name:"OrderManage",mounted:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$socket.emit("select room",this.$route.params.rid),t.next=3,S.get("/restaurant/".concat(this.$route.params.rid,"/order"));case 3:e=t.sent,n=e.data,this.orderList=n;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{orderList:[],orderStyle:{border:"2px solid",margin:"20px",padding:"20px"}}},methods:{print:function(t){console.log("print",t.status)},confirm:function(t){var e=t;e.status="confirmed",S.put("restaurant/".concat(t.rid,"/order/").concat(t.id),e)},complete:function(t){var e=t;e.status="completed",S.put("restaurant/".concat(t.rid,"/order/").concat(t.id),e)},deleteOrder:function(t){var e=t;S.delete("restaurant/".concat(t.rid,"/order/").concat(t.id),e)},orderDetails:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.post("r/".concat(this.$route.params.rid,"/o/").concat(e.id),e);case 2:this.$router.push("order/".concat(e.id));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},sockets:{connect:function(){console.log("连接成功")},"new order":function(t){var e=this.orderList;console.log("添加订单事件"),e.unshift(t)},"change order":function(t){console.log("修改订单事件"),this.orderList=t}}},Ct=Ot,jt=Object(h["a"])(Ct,St,$t,!1,null,"39563849",null),Rt=jt.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"ManageFood"},[n("el-main",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("h3",[t._v("所有桌面")])]),t._l(t.foodList,(function(e,r){return n("div",{key:r},[n("h3",[t._v(t._s(e.name))]),n("div",{style:t.cardStyle},[n("div",{staticStyle:{overflow:"hidden"}},[n("img",{style:t.imgStyle,attrs:{src:"http://47.96.148.104/upload/"+e.img,alt:e.name}}),n("div",{staticStyle:{"margin-left":"500px"}},[n("p",[t._v("描述："+t._s(e.desc))]),n("p",[t._v("价格："+t._s(e.price)+"元")]),n("p",[t._v("分类："+t._s(e.category?e.category:"[暂未分类]"))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.btnIdx==r,expression:"btnIdx == index ? true : false"}]},[n("el-form",[n("el-form-item",{attrs:{label:"菜名"}},[n("el-input",{model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"food.name"}})],1),n("el-form-item",{attrs:{label:"价格"}},[n("el-input",{model:{value:e.price,callback:function(n){t.$set(e,"price",n)},expression:"food.price"}})],1),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{model:{value:e.desc,callback:function(n){t.$set(e,"desc",n)},expression:"food.desc"}})],1),n("el-form-item",{attrs:{label:"分类"}},[n("el-input",{model:{value:e.category,callback:function(n){t.$set(e,"category",n)},expression:"food.category"}})],1),n("el-form-item",{attrs:{label:"图片"}},[n("input",{attrs:{type:"file",file:e.img},on:{change:function(n){return t.imgChange(e,n)}}})]),n("el-button",{on:{click:function(n){return n.preventDefault(),t.save(e)}}},[t._v("保存")])],1)],1),n("div",{staticStyle:{position:"absolute",right:"5px",bottom:"5px"}},[n("el-button",{on:{click:function(e){return t.modify(r)}}},[t._v("修改")]),"on"==e.status?n("el-button",{on:{click:function(n){return t.takeDown(e)}}},[t._v("下架")]):t._e(),"off"==e.status?n("el-button",{on:{click:function(n){return t.upShelf(e)}}},[t._v("上架")]):t._e(),n("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.deleteFood(e,r)}}},[t._v("删除")])],1)])])}))],2)],1)],1)},Pt=[],Nt=(n("a434"),n("b64b"),n("07ac"),{name:"ManageFood",mounted:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.get("/restaurant/".concat(this.$route.params.rid,"/food"));case 2:e=t.sent,n=e.data,this.foodList=n;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{foodList:[],imgStyle:{float:"left",width:"100px",height:"100px",border:"1px solid"},cardStyle:{border:"2px solid",padding:"5px",position:"relative",marginBottom:"50px"},btnIdx:-1}},methods:{modify:function(t){this.btnIdx=t},imgChange:function(t,e){var n=e.target.files[0];t.img=n},save:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=new FormData,r=Object.keys(e),a=Object.values(e),o=0;o<=r.length;o+=1)Object.prototype.hasOwnProperty.call(a,o)&&n.append(r[o],a[o]);return t.next=6,S.put("/restaurant/".concat(this.$route.params.rid,"/food/").concat(e.id),n);case 6:this.btnIdx=-1;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),takeDown:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.status="off",t.next=3,S.put("/restaurant/".concat(this.$route.params.rid,"/food/").concat(e.id),e);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),upShelf:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.status="on",t.next=3,S.put("/restaurant/".concat(this.$route.params.rid,"/food/").concat(e.id),e);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteFood:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.foodList.splice(n,1),t.next=3,S.delete("/restaurant/".concat(this.$route.params.rid,"/food/").concat(e.id));case 3:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()}}),Lt=Nt,Dt=Object(h["a"])(Lt,It,Pt,!1,null,"1dea8d98",null),Et=Dt.exports,Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"ManageDesk",staticStyle:{"margin-bottom":"50px"}},[n("el-main",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("h3",[t._v("所有菜品")])]),t._l(t.deskLists,(function(e,r){return n("div",{key:r,style:t.cardStyle},[n("el-form",{staticStyle:{position:"absolute",left:"10px",bottom:"5px"}},[n("el-form-item",[n("h3",[t._v("桌号 : "+t._s(e.name))])]),n("el-form-item",[n("h3",[t._v("纳客量 : "+t._s(e.capacity))])]),n("el-button",{staticStyle:{margin:"0 10px"},on:{click:function(n){return t.deleteDesk(e)}}},[t._v("删除此桌面")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.id==t.modifingId,expression:"deskInfo.id == modifingId ? true : false"}],staticStyle:{position:"absolute",left:"500px",bottom:"5px",width:"200px"}},[n("el-form",[n("el-form-item",{attrs:{label:"修改桌子属性"}},[n("el-input",{attrs:{placeholder:"请输入要更改的桌名"},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"deskInfo.name"}})],1),n("el-form-item",{attrs:{label:"请修改桌子容纳量"}},[n("i",{staticClass:"el-icon-remove-outline",on:{click:function(n){return t.dec(e)}}}),n("span",[t._v(t._s(e.capacity))]),n("i",{staticClass:"el-icon-circle-plus",on:{click:function(n){return t.inc(e)}}})]),n("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.changeDesk(e)}}},[t._v("确认修改")])],1)],1),n("el-button",{directives:[{name:"show",rawName:"v-show",value:!(e.id==t.modifingId),expression:"!(deskInfo.id == modifingId ? true : false)"}],staticStyle:{margin:"0 10px"},attrs:{type:"primary"},on:{click:function(n){return t.modify(e)}}},[t._v(" 修改桌面信息 ")])],1)],1)}))],2)],1)],1)},Vt=[],Mt={name:"ManageDesk",mounted:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$socket.emit("select room",this.$route.params.rid),t.next=3,S.get("/restaurant/".concat(this.$route.params.rid,"/desks"));case 3:e=t.sent.data,this.deskLists=e;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{deskLists:[],modifingId:-1,cardStyle:{border:"2px solid",padding:"5px",position:"relative",marginBottom:"50px",height:"210px"}}},methods:{changeDesk:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.put("/restaurant/".concat(this.$route.params.rid,"/desk/").concat(e.id),e);case 2:this.modifingId=-1;case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),dec:function(t){t.capacity-=1},inc:function(t){t.capacity+=1},deleteDesk:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.delete("/restaurant/".concat(this.$route.params.rid,"/desk/").concat(e.id));case 2:n=t.sent,r=n.data,0===r.code&&(this.deskLists=this.deskLists.filter((function(t){return t.id!==e.id})));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),addDeskCart:function(){this.addDeskStatus=!0},modify:function(t){this.modifingId=t.id}},sockets:{"change desk":function(t){this.deskLists=t},"add desk":function(t){this.deskLists.push(t)}}},Tt=Mt,qt=Object(h["a"])(Tt,Ft,Vt,!1,null,"8d2a612e",null),Bt=qt.exports,Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{attrs:{id:"orderDetails"}},[n("el-header",[n("el-page-header",{staticStyle:{backgroundColor:"lightblue"},attrs:{title:"返回",content:"订单详情页面"},on:{back:t.goBack}})],1),n("el-main",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("h3",[t._v("订单详情")]),n("h4",[t._v(t._s(t.orderInfo.id)+"号订单：")]),n("h4",[t._v(t._s(t.orderInfo.deskName))])]),n("div",[n("h3",[t._v("点餐单：")]),t._l(t.orderFoods,(function(e,r){return n("div",{key:r},[t._v(" "+t._s(e.id)+"号菜品："+t._s(e.amount)+"个 ")])})),n("h3",[t._v("总价格： "+t._s(t.orderInfo.totalPrice))])],2)])],1)],1)},zt=[],At={name:"OrderDetails",mounted:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.get("r/".concat(this.$route.params.rid,"/o/").concat(this.$route.params.oid));case 2:e=t.sent.data,this.orderInfo=e;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{orderInfo:{}}},computed:{orderFoods:function(){return this.orderInfo.details}},methods:{goBack:function(){this.$router.push("/manage/1/orders")}}},Ht=At,Qt=Object(h["a"])(Ht,Jt,zt,!1,null,null,null),Ut=Qt.exports,Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"AddFood"},[n("el-header",[n("h3",[t._v("添加新菜品")])]),n("el-main",[n("el-form",{staticStyle:{width:"400px"},attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"菜名"}},[n("el-input",{model:{value:t.foodInfo.name,callback:function(e){t.$set(t.foodInfo,"name",e)},expression:"foodInfo.name"}})],1),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{model:{value:t.foodInfo.desc,callback:function(e){t.$set(t.foodInfo,"desc",e)},expression:"foodInfo.desc"}})],1),n("el-form-item",{attrs:{label:"价格"}},[n("el-input",{model:{value:t.foodInfo.price,callback:function(e){t.$set(t.foodInfo,"price",e)},expression:"foodInfo.price"}})],1),n("el-form-item",{attrs:{label:"分类"}},[n("el-input",{model:{value:t.foodInfo.category,callback:function(e){t.$set(t.foodInfo,"category",e)},expression:"foodInfo.category"}})],1),n("el-form-item",{attrs:{label:"状态"}},[n("el-input",{model:{value:t.foodInfo.status,callback:function(e){t.$set(t.foodInfo,"status",e)},expression:"foodInfo.status"}})],1),n("el-form-item",{attrs:{label:"图片"}},[n("input",{ref:t.foodInfo.img,attrs:{type:"file",name:"img"},on:{change:function(e){return t.imgChange(e)}}})]),n("br"),n("el-button",{staticStyle:{margin:"20px"},attrs:{type:"primary"},on:{click:t.add}},[t._v("确认添加菜品")]),n("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)},Xt=[],Gt={name:"AddFood",data:function(){return{foodInfo:{name:"",desc:"",price:"",category:"",status:"on",img:null},feedback:"",uploadPath:"http://47.96.148.104/api/manage/".concat(this.$route.params.rid,"/add-food")}},methods:{add:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=new FormData,n=Object.keys(this.foodInfo),r=Object.values(this.foodInfo),a=0;a<=n.length;a+=1)Object.prototype.hasOwnProperty.call(r,a)&&e.append(n[a],r[a]);return t.next=6,S.post("/restaurant/".concat(this.$route.params.rid,"/food"),e);case 6:if(o=t.sent,i=o.data,!i){t.next=11;break}return this.$message("添加菜品成功"),t.abrupt("return");case 11:this.$message("添加失败，请检查填写信息");case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),imgChange:function(t){this.foodInfo.img=t.target.files[0]},cancel:function(){this.foodInfo={name:"",desc:"",price:"",category:"",status:"on",img:null}}}},Zt=Gt,Kt=(n("522d2"),Object(h["a"])(Zt,Wt,Xt,!1,null,"6008a8e8",null)),Yt=Kt.exports,te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"order-success"},[n("mt-header",{attrs:{fixed:"",title:"无人点餐系统"}},[n("router-link",{attrs:{slot:"left",to:t.foodCart},slot:"left"},[n("mt-button",{attrs:{icon:"back"}},[t._v("返回")])],1)],1),n("h2",{staticStyle:{"margin-top":"50px"}},[t._v("下单成功")]),n("div",{staticStyle:{border:"2px solid",margin:"5px","border-radius":"0.5em",padding:"20px"}},[n("h3",[t._v("本订单信息：")]),n("p",[t._v("桌号："+t._s(t.latestOrder.deskName))]),n("p",[t._v("人数："+t._s(t.latestOrder.customCount)+"人")]),n("p",[t._v("总价格："+t._s(t.latestOrder.totalPrice)+"元")])]),n("el-button",{staticStyle:{margin:"10px"},attrs:{type:"primary"},on:{click:t.toFoodCart}},[t._v("继续点餐")]),n("el-collapse",{on:{change:t.getHistoryOrders},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"正在进行的订单",name:"1"}},[n("div",[n("ul",{staticStyle:{"list-style":"none",padding:"0"}},t._l(t.historyOrders,(function(e,r){return n("li",{key:r,staticStyle:{border:"2px solid",margin:"15px","border-radius":"0.5em",padding:"5px"}},[n("h3",[t._v("订单"+t._s(r+1))]),n("p",[t._v("人数："+t._s(e.customCount)+"人")]),n("p",[t._v("订单状态: "+t._s(e.status))]),n("p",[t._v("订单价格："+t._s(e.totalPrice)+"元")]),n("p",[t._v("下单时间： "+t._s(new Date(+new Date(e.timestamp)+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,""))+" ")])])})),0)])])],1)],1)},ee=[],ne={name:"OrderSuccess",mounted:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$socket.emit("select room",this.$route.params.rid),t.next=3,S.get("/restaurant/".concat(this.$route.params.rid,"/desk/").concat(this.$route.params.did,"/order-success"));case 3:e=t.sent.data,this.latestOrder=e,n="/r/".concat(this.$route.params.rid,"/d/").concat(this.$route.params.did,"?customCount=").concat(e.customCount),this.foodCart=n;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{foodCart:"",historyOrders:[],activeNames:["0"],latestOrder:{}}},methods:{getHistoryOrders:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.get("/restaurant/".concat(this.$route.params.rid,"/desk/").concat(this.$route.params.did,"/order"));case 2:e=t.sent.data,this.historyOrders=e;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),toFoodCart:function(){this.$router.push(this.foodCart)}},sockets:{connect:function(){console.log("连接成功order-succes")},"change order":function(t){this.historyOrders=t},"new order":function(t){var e=this.historyOrders;e.unshift(t)}}},re=ne,ae=Object(h["a"])(re,te,ee,!1,null,null,null),oe=ae.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"AddDesk"},[n("el-header",[n("h3",[t._v("添加新桌面")])]),n("el-main",[n("el-form",{staticStyle:{width:"400px"},attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"桌名"}},[n("el-input",{model:{value:t.deskName,callback:function(e){t.deskName=e},expression:"deskName"}})],1),n("el-form-item",{attrs:{label:"纳客量"}},[n("el-input",{model:{value:t.capacity,callback:function(e){t.capacity=e},expression:"capacity"}})],1),n("el-button",{staticStyle:{margin:"20px"},attrs:{type:"primary"},on:{click:t.addDesk}},[t._v("确认添加")]),n("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)},se=[],ce={name:"addDesk",data:function(){return{deskName:"",capacity:1}},methods:{addDesk:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={name:this.deskName,capacity:this.capacity},t.next=3,S.post("/restaurant/".concat(this.$route.params.rid,"/desks"),e);case 3:this.$message("添加桌面成功"),this.deskName="";case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.deskName=""}}},ue=ce,le=Object(h["a"])(ue,ie,se,!1,null,"4bec8cc4",null),de=le.exports,pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{attrs:{id:"resume"}},[n("el-header",[n("el-header",[n("h2",[t._v("个人简历")])])],1),n("hr"),n("el-main",[n("ul",[n("li",[n("h3",[t._v("基本信息：")]),n("p",[t._v("姓名：胡重庆 性别：男")]),n("p",[t._v("学历：本科 2018年 毕业于 北京服装学院")]),n("p",[t._v("沟通能力良好，能配合团队合作，并完成自己的本职工作")]),n("p",[t._v("使用 Vue + ElementUI + Node.js（express）+ sqlite实现了一个扫码点餐及管理系统")]),n("p",[t._v("技术栈和工具：Vue Node.js express sqlite webpack scss bootstrap element-ui mint-ui")])]),n("hr"),n("li",[n("h3",[t._v("技能树")]),n("h4",[t._v("前端工程化")]),n("p",[t._v("熟练使用Vue框架，熟悉前端框架开发模式，对一些虚拟dom和Vue的双向绑定等原理有一定了解")]),n("p",[t._v("熟悉Node.js，用express框架写了一个无人点餐系统的后台")]),n("p",[t._v("具备基本的Web安全知识(XSS/CSRF及其防护等等)")]),n("p",[t._v("熟练使用DevTool进行开发和调试并解决问题")]),n("p",[t._v("能够使用Git进行版本控制")]),n("p",[t._v("了解Webpack的原理，了解前端工程化工具")]),n("hr"),n("h4",[t._v("HTML/CSS/JS")]),n("p",[t._v("通读《CSS权威指南》、《The Book Of CSS3》、《Eloquent JS》、《JS 高级程序设计》 、《DOM编程艺术》")]),n("p",[t._v("熟练掌握盒模型，行内及块级格式化")]),n("p",[t._v("熟练掌握CSS3的渐变，动画，2D/3D变换")]),n("p",[t._v("熟悉Less/Scss，熟悉Bootstrap")]),n("p",[t._v("熟悉原生JS，理解原型、闭包、高阶、异步，刷了一部分(约1/4左右)Lodash函数")]),n("p",[t._v("熟悉ES6新特性，包括但不限于新的语法糖、类、promise、async/await、解构语法、Symbol类型、箭头函数")]),n("p",[t._v("熟悉DOM及其原生API，了解事件流")]),n("p",[t._v("了解Node.js，了解其常用模块，了解JS事件循环机制（EventLoop）；熟悉Express框架，了解其中间件的机制")]),n("p",[t._v("熟悉Vue的使用，对Vue的部分原理，Vue的生命周期函数，熟悉前端框架开发模式，对虚拟dom和Vue的双向绑定等原理有一定了解。")]),n("h4",[t._v("计算机基础")]),n("p",[t._v("了解基本的数据结构，链表、二叉树、BST、堆")]),n("p",[t._v("能实现基本的排序算法如：快排、归并")]),n("p",[t._v("理解计算机网络基本原理及分层模型，熟悉HTTP协议的机制、常见首部及缓存方式")]),n("p",[t._v("了解跨域及其常见方式，以及跨域相关的安全问题（XSS, CSRF）")]),n("p",[t._v("了解基本的数据库及简单SQL语言的使用")]),n("p",[t._v("平时带着刷了一些leetcode,"),n("a",{staticStyle:{"font-weight":"bold"},attrs:{href:"https://leetcode.com/hucq88/"}},[t._v("我的leetcode主页")])])]),n("hr"),n("li",[n("h3",[t._v("项目经验")]),n("h4",[t._v(" 扫码点餐系统和餐厅管理")]),n("p",[t._v("前端Vue全家桶 + elementUI + vue-socket")]),n("p",[t._v("后端Node.js实现，使用了 express + sqlite + socket.io")]),n("p",[t._v("点餐部分适配的是手机端，商家餐厅管理适配的是PC端")]),n("p",[t._v("功能：")]),n("p",[t._v("商户侧：验证码登录 邮箱找回密码 添加菜品、桌面，实时同步及修改管理 菜品、桌面、订单信息")]),n("p",[t._v("顾客侧：扫码点餐， 同桌客户点餐的实时同步， 订单状态与后台的实时同步，购物车实时更新，查看自己正在进行中的订单状态")]),n("h3",[n("a",{attrs:{href:"http://47.96.148.104/#/login"}},[t._v("商户侧(请点击)")])]),n("h3",[t._v("顾客侧:(请扫码)"),n("img",{attrs:{src:"http://47.96.148.104/QR",alt:"顾客侧"}})]),n("h4",[t._v(" 纯CSS仿小米首页")]),n("p",[t._v("无框架，无js，纯CSS写的，首屏略复杂，主要精力用在了slider上和hover切换选项卡 ")]),n("p",[n("a",{attrs:{href:"http://47.96.148.104/mi"}},[t._v("在线地址")])]),n("h4",[t._v("纯CSS实现百叶窗slider")]),n("p",[t._v("百叶窗silder: "),n("a",{attrs:{href:"http://47.96.148.104/slider"}},[t._v("在线地址")])])]),n("hr"),n("li",[n("h3",[t._v(" 联系方式：")]),n("p",[t._v(" QQ: 810006338")]),n("p",[t._v(" 邮箱：810006338@qq.com")]),n("p",[t._v(" 电话：18811018100")])])])])],1)},me=[],he={name:"Resume"},fe=he,ve=(n("dd32"),Object(h["a"])(fe,pe,me,!1,null,"09e6b6e3",null)),ge=ve.exports,be=g["a"].prototype.push;g["a"].prototype.push=function(t){return be.call(this,t).catch((function(t){return t}))},r["default"].use(g["a"]);var xe=[{path:"/",name:"Resume",component:ge},{path:"/login",name:"login",component:D},{path:"/register",name:"register",component:q},{path:"/forget",name:"forget",component:Q},{path:"/change-password/:token",name:"changePW",component:K},{path:"/manage/:rid",name:"restaurantManage",component:wt,children:[{path:"mainpage",component:j},{path:"orders",component:Rt},{path:"order/:oid",component:Ut},{path:"food",component:Et},{path:"desks",component:Bt},{path:"add-food",component:Yt},{path:"add-desk",component:de}]},{path:"/r/:rid/d/:did",name:"foodCart",component:gt},{path:"/r/:rid/d/:did/order-success",name:"orderSuccess",component:oe},{path:"/landing/r/:rid/d/:did",name:"landingPage",component:at}],_e=new g["a"]({base:"/",routes:xe}),ke=_e,ye=n("2f62");r["default"].use(ye["a"]);var we=new ye["a"].Store({state:{},mutations:{},actions:{},modules:{}});r["default"].use(new o.a({debug:!0,connection:"http://47.96.148.104"})),r["default"].use(s.a),r["default"].use(u.a),r["default"].config.productionTip=!1,new r["default"]({router:ke,store:we,render:function(t){return t(v)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"5f3b":function(t,e,n){},"7c6a":function(t,e,n){},"86e5":function(t,e,n){"use strict";var r=n("a83e"),a=n.n(r);a.a},"872c":function(t,e,n){"use strict";var r=n("5f3b"),a=n.n(r);a.a},"922b":function(t,e,n){},"9b39":function(t,e,n){},"9c0c":function(t,e,n){},a83e:function(t,e,n){},b3b5:function(t,e,n){"use strict";var r=n("922b"),a=n.n(r);a.a},b835:function(t,e,n){"use strict";var r=n("d5d0"),a=n.n(r);a.a},d5d0:function(t,e,n){},dce6:function(t,e,n){"use strict";var r=n("4876"),a=n.n(r);a.a},dd32:function(t,e,n){"use strict";var r=n("9b39"),a=n.n(r);a.a}});
//# sourceMappingURL=app.c7e93d30.js.map